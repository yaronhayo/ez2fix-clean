---
import BaseLayout from '@/layouts/BaseLayout.astro';
import HeaderClean from '@/components/layout/HeaderClean.astro';
import FooterClean from '@/components/layout/FooterClean.astro';
import ServiceCard from '@/components/ui/ServiceCard.astro';
import BookingFormClean from '@/components/ui/BookingFormClean.astro';
import Card from '@/components/ui/Card.astro';
import { siteConfig } from '@/config/site';
import { clientEnv } from '@/config/env';

// Cedar Grove specific data
const locationData = {
  city: 'Cedar Grove',
  county: 'Essex County',
  state: 'NJ',
  zip: '07009',
  lat: 40.8534,
  lng: -74.2285,
  neighborhoods: [
    'Cedar Grove Center',
    'North End',
    'South End',
    'Fairfield Township border'
  ],
  landmarks: [
    'Cedar Grove Park',
    'Cedar Grove Memorial Pool',
    'Verona-Cedar Grove High School',
    'Memorial Park'
  ],
  serviceStats: {
    customersServed: '680+',
    yearsInArea: '8',
    satisfactionRate: '98.9%'
  }
};

// Services optimized for conversion
const services = [
  {
    title: "Emergency Garage Door Repair",
    description: "When your garage door breaks in Cedar Grove, we're here 24/7 to restore your security and peace of mind.",
    image: "https://qjvikxuhqs1py0go.public.blob.vercel-storage.com/Garage%20Door%20Repair.webp",
    features: ["24/7 Emergency Response", "Same Day Service Available", "All Major Brands", "Safety-First Approach"],
    warranty: "10-Year Parts & Labor Warranty",
    badge: "24/7 EMERGENCY",
    href: "/services/emergency-garage-door-repair",
    popular: true
  },
  {
    title: "Garage Door Spring Repair",
    description: "Broken springs are dangerous and make your 400lb door unsafe. Trust our Cedar Grove spring experts for safe replacement.",
    image: "https://qjvikxuhqs1py0go.public.blob.vercel-storage.com/Garage%20Door%20Spring%20Repair.jpg",
    features: ["Safe Spring Replacement", "High-Quality Springs", "Proper Door Balance", "Complete Safety Check"],
    warranty: "10-Year Parts & Labor Warranty",
    badge: "MOST COMMON",
    href: "/services/garage-door-spring-repair",
    popular: true
  },
  {
    title: "Garage Door Opener Installation",
    description: "Upgrade to a smart garage door opener with smartphone control and never worry about forgetting to close your door again.",
    image: "https://qjvikxuhqs1py0go.public.blob.vercel-storage.com/Garage%20Door%20Opener%20Installation.webp",
    features: ["Smart Phone Control", "Real-Time Alerts", "Battery Backup Power", "Professional Installation"],
    warranty: "10-Year Parts & Labor Warranty",
    badge: "SMART UPGRADE",
    href: "/services/garage-door-opener-installation",
    popular: false
  },
  {
    title: "New Garage Door Installation",
    description: "Transform your Cedar Grove home's curb appeal and increase property value with a beautiful new garage door.",
    image: "https://qjvikxuhqs1py0go.public.blob.vercel-storage.com/Garage%20Door%20Installation.png",
    features: ["Increase Home Value", "Custom Design Options", "Energy Efficiency", "Enhanced Curb Appeal"],
    warranty: "10-Year Parts & Labor Warranty",
    badge: "VALUE BOOST",
    href: "/services/new-garage-door-installation",
    popular: false
  },
  {
    title: "General Garage Door Repair",
    description: "From track issues to panel damage, our Cedar Grove technicians diagnose and fix all garage door problems quickly.",
    image: "https://qjvikxuhqs1py0go.public.blob.vercel-storage.com/General%20Garage%20Door%20Repair.jpg",
    features: ["Complete Diagnostics", "All Repair Types", "Quality Parts Used", "Quality Service Focus"],
    warranty: "10-Year Parts & Labor Warranty",
    badge: "ALL REPAIRS",
    href: "/services/general-garage-door-repair",
    popular: false
  },
  {
    title: "Commercial Garage Door Service",
    description: "Keep your Cedar Grove business running smoothly with professional commercial garage door maintenance and repair.",
    image: "https://qjvikxuhqs1py0go.public.blob.vercel-storage.com/Commercial%20Garage%20Door%20Service.webp",
    features: ["Business Solutions", "Scheduled Maintenance", "Heavy-Duty Repairs", "Minimal Downtime"],
    warranty: "10-Year Parts & Labor Warranty",
    badge: "COMMERCIAL",
    href: "/services/commercial-garage-door-service",
    popular: false
  }
];

// Local testimonials
const localTestimonials = [
  {
    name: "David Martinez",
    location: "Cedar Grove Center",
    service: "Emergency Spring Repair",
    quote: "Our garage door spring snapped on a Saturday morning and we were trapped in our driveway. Ez2Fix arrived quickly and replaced both springs professionally. They know Cedar Grove well and got to us fast even during weekend traffic.",
    rating: 5,
    date: "2024-08-15"
  },
  {
    name: "Jennifer Walsh",
    location: "North End",
    service: "Smart Opener Installation",
    quote: "We upgraded to a smart opener and couldn't be happier. The Ez2Fix technician was knowledgeable about the newer Cedar Grove homes and made sure everything integrated perfectly with our home automation system.",
    rating: 5,
    date: "2024-07-22"
  },
  {
    name: "Robert Kim",
    location: "South End",
    service: "New Door Installation",
    quote: "Our 20-year-old garage door was an eyesore and affecting our home's value. Ez2Fix helped us choose a beautiful new door that matches our home's style perfectly. The installation team was professional and cleaned up everything afterward.",
    rating: 5,
    date: "2024-06-10"
  }
];

// Local FAQ data
const localFAQs = [
  {
    question: "Do you service all neighborhoods in Cedar Grove?",
    answer: "Yes! We provide garage door service throughout Cedar Grove, including Cedar Grove Center, North End, South End, and areas near the Fairfield Township border. Our technicians know every street and can navigate efficiently to your location."
  },
  {
    question: "What garage door brands do you service in Cedar Grove?",
    answer: "We service all major garage door brands commonly found in Cedar Grove homes, including LiftMaster, Chamberlain, Craftsman, Genie, Wayne Dalton, Clopay, and many others. We stock parts for quick same-day repairs."
  },
  {
    question: "What are the most common garage door problems in Cedar Grove?",
    answer: "In Cedar Grove, we frequently see broken springs due to New Jersey's temperature fluctuations, opener issues from power surges, and track problems from settling foundations. We're prepared for these common Essex County garage door challenges."
  },
  {
    question: "Do you provide warranties on Cedar Grove garage door repairs?",
    answer: "Absolutely! All our Cedar Grove garage door repairs come with a comprehensive 10-year parts and labor warranty. This gives Cedar Grove homeowners peace of mind knowing their investment is protected."
  },
  {
    question: "Can you help with garage door maintenance in Cedar Grove?",
    answer: "Yes! We offer preventive maintenance services for Cedar Grove residents. Regular maintenance extends your garage door's life, prevents costly emergency repairs, and ensures safe operation for your family."
  }
];
---

<BaseLayout 
  title={`Professional Garage Door Repair ${locationData.city}, ${locationData.county} | Ez2Fix | Same Day Service`}
  description={`Trusted garage door repair in ${locationData.city}, ${locationData.county}. ${locationData.serviceStats.customersServed} local customers served. 24/7 emergency service. Licensed & insured. Call (201) 554-6769 for same-day service.`}
>
  <HeaderClean />
  
  <main>
    <!-- Service Area Hero Section -->
    <section class="relative hero-responsive overflow-hidden hero-section bg-gradient-to-br from-ez2fix-dark via-ez2fix-brown/20 to-ez2fix-dark">
      <div class="container-responsive relative z-10">
        <!-- Hero Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-responsive items-center">
          
          <!-- Left Side - Hero Content -->
          <div class="hero-content-responsive order-2 lg:order-1">
            <!-- Local Trust Badge -->
            <div class="flex items-center justify-center lg:justify-start space-x-4 mb-4 lg:mb-6 animate-on-scroll">
              <div class="flex items-center space-x-2">
                <svg class="h-4 w-4 text-ez2fix-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
                <span class="text-xs md:text-sm font-semibold text-white">{locationData.serviceStats.customersServed} Local Customers</span>
              </div>
              <div class="flex items-center space-x-2">
                <svg class="h-4 w-4 text-ez2fix-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                </svg>
                <span class="text-xs md:text-sm font-semibold text-white">Licensed & Insured</span>
              </div>
            </div>

            <!-- SEO-Optimized Main Headlines -->
            <h1 class="hero-title-responsive text-white mb-4 sm:mb-5 lg:mb-6 animate-on-scroll">
              <span class="text-white">Expert Garage Door Repair in</span>
              <br />
              <span class="text-ez2fix-gold">{locationData.city}, NJ</span>
            </h1>
            
            <!-- SEO-Optimized Subtitle with Local Hook -->
            <div class="hero-subtitle-responsive text-white mb-4 sm:mb-6 lg:mb-8 animate-on-scroll">
              <p class="mb-3">Professional <strong class="text-ez2fix-gold">garage door repair in Cedar Grove, NJ</strong> with <strong class="text-ez2fix-gold">same-day emergency service</strong>. Licensed & insured with {locationData.serviceStats.yearsInArea} years serving <strong class="text-ez2fix-primary">Essex County</strong> families.</p>
            </div>
            
            <!-- Service Coverage -->
            <div class="text-center lg:text-left mb-6 animate-on-scroll">
              <p class="text-sm md:text-base text-ez2fix-gold mb-2">Serving {locationData.neighborhoods.slice(0, 3).join(' • ')} & All Cedar Grove Areas</p>
            </div>
            
            <!-- CTAs -->
            <div class="cta-group-responsive mb-4 sm:mb-6 lg:mb-0 animate-on-scroll">
              <a 
                href={siteConfig.links.phone}
                class="flex-1 btn-responsive bg-ez2fix-primary text-ez2fix-dark hover:bg-ez2fix-primary/90 inline-flex items-center justify-center transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 font-semibold btn-premium shadow-premium hover-lift"
              >
                <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                </svg>
                Call {siteConfig.business.phone}
              </a>
              <a 
                href="/booking"
                class="flex-1 btn-responsive border-2 border-ez2fix-gold text-ez2fix-gold hover:bg-ez2fix-gold hover:text-ez2fix-dark inline-flex items-center justify-center transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 font-semibold bg-transparent btn-premium shadow-premium hover-lift"
              >
                <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                Get Free Estimate
              </a>
            </div>
          </div>

          <!-- Right Side - Booking Form -->
          <div class="order-1 lg:order-2 hidden lg:block animate-on-scroll">
            <div class="bg-ez2fix-cream border-2 border-ez2fix-primary rounded-xl p-6 shadow-premium max-w-md mx-auto">
              <BookingFormClean 
                variant="hero" 
                title="Get Your Cedar Grove Estimate"
                subtitle="Tell us about your garage door issue and we'll provide a personalized estimate for your Cedar Grove home."
                buttonText="Get My Free Estimate"
              />
              
              <!-- Form Benefits -->
              <div class="mt-4 pt-4 border-t border-ez2fix-brown/20">
                <div class="grid grid-cols-2 gap-3 text-center">
                  <div>
                    <div class="text-heading-3 text-ez2fix-dark">Same Day</div>
                    <div class="text-body-small text-ez2fix-brown">Service Available</div>
                  </div>
                  <div>
                    <div class="text-heading-3 text-ez2fix-dark">Licensed NJ</div>
                    <div class="text-body-small text-ez2fix-brown">#13VH13553300</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </section>

    <!-- Location Map Section -->
    <section class="py-16 bg-gradient-to-r from-ez2fix-dark to-ez2fix-brown/80">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-ez2fix-cream mb-6">
              We're Right Here in <span class="text-ez2fix-gold">{locationData.city}</span>
            </h2>
            <p class="text-xl text-ez2fix-gold max-w-3xl mx-auto leading-relaxed">
              Located in the heart of {locationData.county}, we know every street and neighborhood in {locationData.city}. 
              See exactly where we serve and how close we are to you.
            </p>
          </div>

          <!-- Map Container -->
          <Card class="p-2 shadow-2xl border-2 bg-white border-ez2fix-primary mb-8">
            <div id="individual-location-map" class="w-full rounded-lg overflow-hidden shadow-inner" style="min-height: 400px;">
              <div class="flex items-center justify-center h-full bg-ez2fix-cream/50">
                <div class="text-center p-8">
                  <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-ez2fix-primary/10 flex items-center justify-center">
                    <svg class="w-8 h-8 text-ez2fix-primary animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                    </svg>
                  </div>
                  <div id="individual-map-loading" class="text-xl font-bold text-ez2fix-dark mb-2">Loading {locationData.city} Service Map...</div>
                  <div class="text-ez2fix-brown">Pinpointing your local service area</div>
                </div>
              </div>
            </div>
          </Card>

          <!-- Map Info -->
          <div class="text-center">
            <div class="inline-flex items-center space-x-2 px-6 py-3 bg-ez2fix-primary/10 rounded-lg border border-ez2fix-primary/20">
              <svg class="h-5 w-5 text-ez2fix-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
              </svg>
              <span class="text-ez2fix-cream font-medium">We serve all neighborhoods throughout {locationData.city}, {locationData.state}</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section class="py-16 md:py-24 bg-ez2fix-cream">
      <div class="container mx-auto px-4">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-5xl font-bold text-ez2fix-dark mb-6">
            Garage Door Services in <span class="text-ez2fix-primary">{locationData.city}</span>
          </h2>
          <p class="text-xl text-ez2fix-brown max-w-4xl mx-auto">
            From emergency repairs near Cedar Grove Park to new installations in the North End, 
            <span class="text-ez2fix-primary font-bold">we handle every garage door need in {locationData.city}</span>.
          </p>
        </div>

        <!-- Service Cards Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 max-w-7xl mx-auto">
          {services.map((service, index) => (
            <ServiceCard
              title={service.title}
              description={service.description}
              image={service.image}
              features={service.features}
              warranty={service.warranty}
              badge={service.badge}
              href={service.href}
              popular={service.popular}
              theme="light"
            />
          ))}
        </div>
      </div>
    </section>

    <!-- Local Neighborhoods Section -->
    <section class="py-16 md:py-24 gradient-dark">
      <div class="container mx-auto px-4">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-5xl font-bold text-ez2fix-cream mb-6">
            Every <span class="text-ez2fix-primary">{locationData.city}</span> Neighborhood
          </h2>
          <p class="text-xl text-ez2fix-gold max-w-4xl mx-auto">
            We know every street, every neighborhood, and every unique challenge in {locationData.city}. 
            <span class="text-ez2fix-primary font-bold">Your neighbors are our customers</span>.
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {locationData.neighborhoods.map((neighborhood, index) => (
            <Card class="p-8 text-center hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 bg-ez2fix-cream border-2 border-ez2fix-primary group">
              <div class="w-16 h-16 rounded-full bg-ez2fix-primary mx-auto mb-6 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                <svg class="w-8 h-8 text-ez2fix-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
              </div>
              <h3 class="text-xl font-bold text-ez2fix-dark mb-4">{neighborhood}</h3>
              <p class="text-ez2fix-brown leading-relaxed mb-4">
                Professional garage door service in the {neighborhood} area of {locationData.city}.
              </p>
              <div class="flex items-center justify-center space-x-2">
                <svg class="h-4 w-4 text-ez2fix-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                <span class="text-sm font-semibold text-ez2fix-primary">Same-Day Service Available</span>
              </div>
            </Card>
          ))}
        </div>
      </div>
    </section>

    <!-- Mobile Booking Form -->
    <section class="py-8 bg-ez2fix-cream lg:hidden">
      <div class="container mx-auto px-4">
        <div class="max-w-md mx-auto">
          <BookingFormClean 
            variant="mobile" 
            title="Get Your Cedar Grove Estimate"
            subtitle="Tell us about your garage door issue and we'll provide a personalized estimate."
            buttonText="Get My Free Estimate"
          />
        </div>
      </div>
    </section>

    <!-- Local Expertise Section -->
    <section class="py-16 md:py-24 bg-ez2fix-cream">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            
            <!-- Left Column - Content -->
            <div>
              <h2 class="text-3xl md:text-4xl font-bold text-ez2fix-dark mb-6">
                Why {locationData.city} Families <span class="text-ez2fix-primary">Choose Ez2Fix</span>
              </h2>
              <p class="text-xl text-ez2fix-brown leading-relaxed mb-8">
                Serving {locationData.city} for {locationData.serviceStats.yearsInArea} years, we understand the unique challenges Essex County garage doors face. 
                From homes near Cedar Grove Park to properties along the Fairfield Township border, 
                <span class="text-ez2fix-primary font-bold">we know what works best for your neighborhood</span>.
              </p>
              
              <!-- Local Expertise Points -->
              <div class="space-y-4 mb-8">
                <div class="flex items-start space-x-4">
                  <div class="w-6 h-6 rounded-full bg-ez2fix-primary flex items-center justify-center flex-shrink-0 mt-1">
                    <svg class="w-4 h-4 text-ez2fix-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                  </div>
                  <div>
                    <h4 class="font-bold text-ez2fix-dark mb-1">Essex County Climate Expertise</h4>
                    <p class="text-ez2fix-brown">We understand how {locationData.city}'s New Jersey climate affects garage doors and stock the right parts for local weather conditions and seasonal challenges.</p>
                  </div>
                </div>
                
                <div class="flex items-start space-x-4">
                  <div class="w-6 h-6 rounded-full bg-ez2fix-primary flex items-center justify-center flex-shrink-0 mt-1">
                    <svg class="w-4 h-4 text-ez2fix-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                  </div>
                  <div>
                    <h4 class="font-bold text-ez2fix-dark mb-1">Local Area Knowledge</h4>
                    <p class="text-ez2fix-brown">From Cedar Grove Center to the North and South Ends, we know every neighborhood and can navigate efficiently to provide prompt service.</p>
                  </div>
                </div>
                
                <div class="flex items-start space-x-4">
                  <div class="w-6 h-6 rounded-full bg-ez2fix-primary flex items-center justify-center flex-shrink-0 mt-1">
                    <svg class="w-4 h-4 text-ez2fix-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                  </div>
                  <div>
                    <h4 class="font-bold text-ez2fix-dark mb-1">Community Relationships</h4>
                    <p class="text-ez2fix-brown">{locationData.serviceStats.customersServed} satisfied customers means we're recommended neighbor to neighbor.</p>
                  </div>
                </div>
              </div>
              
              <!-- Emergency Contact -->
              <Card class="p-6 bg-gradient-to-r from-ez2fix-primary/10 to-ez2fix-gold/10 border-2 border-ez2fix-primary">
                <div class="flex items-center space-x-4">
                  <div class="w-12 h-12 rounded-full bg-ez2fix-primary flex items-center justify-center">
                    <svg class="h-6 w-6 text-ez2fix-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                  </div>
                  <div>
                    <div class="text-lg font-bold text-ez2fix-dark">Emergency Service in {locationData.city}</div>
                    <a href={siteConfig.links.phone} class="text-xl font-bold text-ez2fix-primary hover:underline">
                      Call {siteConfig.business.phone}
                    </a>
                  </div>
                </div>
              </Card>
            </div>
            
            <!-- Right Column - Booking Form -->
            <div>
              <Card class="p-8 shadow-2xl border-2 bg-white border-ez2fix-primary">
                <BookingFormClean 
                  variant="inline"
                  title={`Get Your Free ${locationData.city} Estimate`}
                  subtitle={`Tell us about your garage door issue and we'll provide a personalized estimate for your ${locationData.city} home.`}
                  buttonText="Get My Free Estimate"
                  showTitle={true}
                />
              </Card>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Local Testimonials Section -->
    <section class="py-16 md:py-24 gradient-dark">
      <div class="container mx-auto px-4">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-5xl font-bold text-ez2fix-cream mb-6">
            What Your <span class="text-ez2fix-primary">{locationData.city}</span> Neighbors Say
          </h2>
          <p class="text-xl text-ez2fix-gold max-w-4xl mx-auto">
            Real stories from real families in {locationData.city} who trusted us with their garage door problems. 
            <span class="text-ez2fix-primary font-bold">See why your neighbors choose Ez2Fix</span>.
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
          {localTestimonials.map((testimonial, index) => (
            <Card class="p-8 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 bg-ez2fix-cream border-2 border-ez2fix-primary h-full flex flex-col">
              <div class="flex items-center mb-6">
                <div class="flex text-ez2fix-gold mr-4">
                  {[...Array(testimonial.rating)].map((_, i) => (
                    <svg key={i} class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                      <path d="M12 .587l3.668 7.431 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"/>
                    </svg>
                  ))}
                </div>
                <span class="text-sm font-bold px-3 py-1 rounded-full bg-ez2fix-primary/10 text-ez2fix-primary border border-ez2fix-primary/20">
                  VERIFIED CUSTOMER
                </span>
              </div>
              
              <blockquote class="text-ez2fix-brown italic mb-6 leading-relaxed flex-1 text-lg">
                "{testimonial.quote}"
              </blockquote>
              
              <div class="border-t border-ez2fix-brown/20 pt-6">
                <div class="font-bold text-ez2fix-dark text-lg">{testimonial.name}</div>
                <div class="text-ez2fix-brown font-medium">{testimonial.location}</div>
                <div class="text-ez2fix-primary font-bold text-sm mt-2">{testimonial.service}</div>
              </div>
            </Card>
          ))}
        </div>
        
        <!-- All Reviews CTA -->
        <div class="text-center mt-12">
          <div class="inline-block p-1 rounded-xl bg-gradient-to-r from-ez2fix-gold to-ez2fix-primary shadow-lg">
            <a 
              href="/reviews"
              class="px-8 py-3 bg-ez2fix-dark text-ez2fix-gold hover:bg-ez2fix-gold hover:text-ez2fix-dark inline-flex items-center justify-center shadow-lg transition-all duration-300 rounded-lg font-bold"
            >
              <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 .587l3.668 7.431 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"/>
              </svg>
              Read All {locationData.city} Reviews
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Local FAQ Section -->
    <section class="py-16 md:py-24 bg-ez2fix-cream">
      <div class="container mx-auto px-4">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-5xl font-bold text-ez2fix-dark mb-6">
            {locationData.city} Garage Door <span class="text-ez2fix-primary">Questions</span>
          </h2>
          <p class="text-xl text-ez2fix-brown max-w-4xl mx-auto mb-12">
            Common questions from {locationData.city} residents about our garage door services. 
            <span class="text-ez2fix-primary font-bold">Get the answers you need</span>.
          </p>
        </div>

        <!-- Custom FAQ Implementation -->
        <div class="max-w-4xl mx-auto space-y-4 mb-12">
          {localFAQs.map((faq, index) => (
            <div class="bg-white border-2 border-ez2fix-primary/20 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300">
              <button class="faq-question w-full text-left p-6 flex items-start justify-between hover:bg-ez2fix-primary/5 transition-colors" data-faq={index}>
                <h3 class="text-xl font-bold text-ez2fix-dark pr-4 flex-1">
                  {faq.question}
                </h3>
                <div class="flex-shrink-0 ml-4">
                  <div class="w-8 h-8 rounded-full bg-ez2fix-primary/10 flex items-center justify-center">
                    <svg class="faq-icon w-5 h-5 transform transition-transform duration-300 text-ez2fix-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                    </svg>
                  </div>
                </div>
              </button>
              <div class="faq-answer max-h-0 overflow-hidden transition-all duration-300 bg-ez2fix-cream/50">
                <div class="p-6 pt-0">
                  <div class="border-l-4 border-ez2fix-primary/30 pl-4">
                    <p class="text-base text-ez2fix-brown leading-relaxed">
                      {faq.answer}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>

        <!-- All FAQs CTA -->
        <div class="text-center">
          <div class="inline-block p-1 rounded-xl bg-gradient-to-r from-ez2fix-primary to-ez2fix-gold shadow-lg">
            <a 
              href="/faq"
              class="px-8 py-3 bg-white text-ez2fix-primary hover:bg-ez2fix-primary hover:text-white inline-flex items-center justify-center shadow-lg transition-all duration-300 rounded-lg font-bold"
            >
              <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              View All FAQs
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Final CTA Section -->
    <section class="py-16 md:py-24 bg-gradient-to-br from-ez2fix-dark via-ez2fix-brown/20 to-ez2fix-dark">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="text-3xl md:text-5xl font-bold text-ez2fix-cream mb-6">
            Ready for Professional Service in <span class="text-ez2fix-gold">{locationData.city}?</span>
          </h2>
          
          <p class="text-xl md:text-2xl leading-relaxed text-ez2fix-cream mb-12">
            Join {locationData.serviceStats.customersServed} satisfied customers in {locationData.city}. 
            <span class="text-ez2fix-gold font-bold">Same day service available - call now</span>.
          </p>
          
          <!-- Trust Stats -->
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-12 max-w-2xl mx-auto">
            <div class="text-center p-4 rounded-lg bg-ez2fix-gold/10 border border-ez2fix-gold/20">
              <div class="text-3xl font-bold text-ez2fix-primary mb-2">24/7</div>
              <div class="text-base text-ez2fix-gold">Emergency Service</div>
            </div>
            <div class="text-center p-4 rounded-lg bg-ez2fix-gold/10 border border-ez2fix-gold/20">
              <div class="text-3xl font-bold text-ez2fix-primary mb-2">{locationData.serviceStats.yearsInArea}</div>
              <div class="text-base text-ez2fix-gold">Years in {locationData.city}</div>
            </div>
            <div class="text-center p-4 rounded-lg bg-ez2fix-gold/10 border border-ez2fix-gold/20">
              <div class="text-3xl font-bold text-ez2fix-primary mb-2">{locationData.serviceStats.satisfactionRate}</div>
              <div class="text-base text-ez2fix-gold">Satisfaction Rate</div>
            </div>
          </div>

          <!-- CTA Buttons -->
          <div class="flex flex-col sm:flex-row gap-4 justify-center max-w-2xl mx-auto mb-12">
            <a 
              href={siteConfig.links.phone}
              class="flex-1 sm:flex-none px-8 py-4 bg-ez2fix-primary text-ez2fix-dark hover:bg-ez2fix-primary/90 inline-flex items-center justify-center shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-1 rounded-lg font-bold text-lg"
            >
              <svg class="h-6 w-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              Call {siteConfig.business.phone}
            </a>
            <a 
              href="/booking"
              class="flex-1 sm:flex-none px-8 py-4 border-2 border-ez2fix-gold text-ez2fix-gold hover:bg-ez2fix-gold hover:text-ez2fix-dark inline-flex items-center justify-center shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-1 rounded-lg font-bold text-lg bg-transparent"
            >
              <svg class="h-6 w-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
              </svg>
              Get Free Estimate
            </a>
          </div>

          <!-- Trust Indicators -->
          <div class="flex flex-col sm:flex-row justify-center items-center space-y-3 sm:space-y-0 sm:space-x-8">
            <div class="flex items-center space-x-2">
              <svg class="h-6 w-6 text-ez2fix-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
              </svg>
              <span class="font-semibold text-ez2fix-cream">Licensed & Insured</span>
            </div>
            <div class="flex items-center space-x-2">
              <svg class="h-6 w-6 text-ez2fix-primary" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 .587l3.668 7.431 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"/>
              </svg>
              <span class="font-semibold text-ez2fix-cream">5.0★ Rating</span>
            </div>
            <div class="flex items-center space-x-2">
              <svg class="h-6 w-6 text-ez2fix-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4"/>
              </svg>
              <span class="font-semibold text-ez2fix-cream">10-Year Warranty</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const faqButtons = document.querySelectorAll('.faq-question');
        
        faqButtons.forEach((button) => {
          button.addEventListener('click', function() {
            const faqIndex = this.getAttribute('data-faq');
            const faqItem = this.closest('div');
            const answer = faqItem.querySelector('.faq-answer');
            const icon = faqItem.querySelector('.faq-icon');
            
            const isOpen = answer.style.maxHeight && answer.style.maxHeight !== '0px';
            
            // Close all FAQs
            faqButtons.forEach((btn) => {
              const otherAnswer = btn.closest('div').querySelector('.faq-answer');
              const otherIcon = btn.closest('div').querySelector('.faq-icon');
              
              otherAnswer.style.maxHeight = '0px';
              otherIcon.style.transform = 'rotate(0deg)';
            });
            
            // Open clicked FAQ if it wasn't open
            if (!isOpen) {
              answer.style.maxHeight = answer.scrollHeight + 'px';
              icon.style.transform = 'rotate(45deg)';
            }
          });
        });
      });
    </script>
  </main>
  
  <FooterClean />
</BaseLayout>

<style>
  .hero-section {
    min-height: 100vh;
    min-height: 100dvh;
  }

  /* Desktop optimization - better above-the-fold positioning */
  @media (min-width: 1024px) {
    .hero-section {
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding-top: 6rem;
    }
  }

  @media (min-width: 1280px) {
    .hero-section {
      padding-top: 8rem;
    }
  }

  @media screen and (max-height: 600px) and (orientation: landscape) {
    .hero-section {
      min-height: auto;
      padding-top: 2rem;
      padding-bottom: 2rem;
    }
  }

  @media screen and (max-width: 480px) {
    .hero-section {
      padding-top: 2rem;
      padding-bottom: 2rem;
    }
  }

  /* Mobile-specific spacing adjustments */
  @media screen and (max-width: 1023px) {
    .hero-section {
      padding-top: 2rem;
      padding-bottom: 2rem;
    }
    
    .hero-content-responsive {
      margin-top: -2rem;
    }
  }

  @media screen and (max-width: 640px) {
    .hero-content-responsive {
      margin-top: -3rem;
    }
  }

  @media (min-width: 475px) {
    .xs\:text-3xl {
      font-size: 1.875rem;
      line-height: 2.25rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Animate elements
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-in');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

    // Animate hero content
    const elementsToAnimate = document.querySelectorAll('.animate-on-scroll');
    elementsToAnimate.forEach((el, index) => {
      setTimeout(() => {
        el.classList.add('animate-in');
      }, index * 100);
    });
    
    // Observe other scroll animations
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
      observer.observe(el);
    });
  });
</script>

<!-- Google Maps JavaScript API for Individual Location -->
    <script>
  // Fetch Google Maps configuration from API
  let googleMapsApiKey = null;
  
  // Global function for Google Maps callback
  // Initialize individual location map
  function initIndividualLocationMap() {
    if (!window.google || !window.google.maps) {
      console.error('Google Maps API not available for individual map');
      showIndividualMapError();
      return;
    }
    const mapElement = document.getElementById('individual-location-map');
    const loadingElement = document.getElementById('individual-map-loading');
    
    if (!mapElement) return;

    // Hide loading message
    if (loadingElement) {
      loadingElement.style.display = 'none';
    }

    // Location data for this specific area
    const locationData = {
      city: 'Cedar Grove',
      county: 'Essex County',
      state: 'NJ',
      lat: 40.8532,
      lng: -74.2290
    };

    // Responsive zoom for individual location
    const getIndividualZoom = () => {
      const width = window.innerWidth;
      if (width < 768) return 12;  // Mobile - closer view
      if (width < 1024) return 13; // Tablet
      return 14; // Desktop - detailed neighborhood view
    };

    // Create map centered on this location
    const map = new google.maps.Map(mapElement, {
      zoom: getIndividualZoom(),
      center: { lat: locationData.lat, lng: locationData.lng },
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      styles: [
        {
          featureType: "all",
          elementType: "geometry.fill",
          stylers: [{ color: "#F3F3E6" }]
        },
        {
          featureType: "water",
          elementType: "geometry.fill",
          stylers: [{ color: "#BB8525" }]
        },
        {
          featureType: "road",
          elementType: "geometry.stroke",
          stylers: [{ color: "#1D1912" }]
        },
        {
          featureType: "road",
          elementType: "labels.text.fill",
          stylers: [{ color: "#1D1912" }]
        }
      ]
    });

    // Add marker for this specific location
    const marker = new google.maps.Marker({
      position: { lat: locationData.lat, lng: locationData.lng },
      map: map,
      title: `${locationData.city}, ${locationData.state} - Ez2Fix Service Area`,
      icon: {
        path: google.maps.SymbolPath.CIRCLE,
        scale: 15,
        fillColor: '#D2A63C',
        fillOpacity: 1,
        strokeColor: '#1D1912',
        strokeWeight: 3
      }
    });

    // Create info window for this location
    const infoContent = `
      <div style="padding: 16px; font-family: Arial, sans-serif; max-width: 300px;">
        <h3 style="color: #1D1912; margin: 0 0 8px 0; font-size: 20px; font-weight: bold;">${locationData.city}</h3>
        <p style="color: #BB8525; margin: 0 0 12px 0; font-size: 14px;">${locationData.county}, ${locationData.state}</p>
        
        <p style="color: #1D1912; margin: 0 0 12px 0; font-size: 14px; line-height: 1.4;">
          <strong>Ez2Fix Service Area</strong><br>
          Professional garage door service for all neighborhoods throughout ${locationData.city}.
        </p>
        
        <div style="display: flex; gap: 8px; margin-top: 12px;">
          <a href="tel:${siteConfig.business.phone}" 
             style="background-color: #D2A63C; color: #F3F3E6; 
                    padding: 8px 12px; border-radius: 4px; text-decoration: none; 
                    font-size: 12px; font-weight: bold; flex: 1; text-align: center;">Call Now</a>
          <a href="/booking" 
             style="border: 2px solid #BB8525; color: #BB8525; background: transparent;
                    padding: 6px 12px; border-radius: 4px; text-decoration: none; 
                    font-size: 12px; font-weight: bold; flex: 1; text-align: center;">Get Quote</a>
        </div>
      </div>
    `;

    const infoWindow = new google.maps.InfoWindow({
      content: infoContent
    });

    // Add click event to marker
    marker.addListener('click', () => {
      infoWindow.open(map, marker);
    });

    // Show info window by default
    infoWindow.open(map, marker);

    // Add resize listener for responsive zoom
    window.addEventListener('resize', () => {
      const newZoom = getIndividualZoom();
      if (map.getZoom() !== newZoom) {
        map.setZoom(newZoom);
      }
    });
  };

  // Fetch API key and load Google Maps
  async function loadIndividualMapAPI() {
    if (window.google && window.google.maps) {
      initIndividualLocationMap();
      return;
    }

    try {
      // Fetch the API key from our secure endpoint
      const response = await fetch('/api/maps-key');
      const config = await response.json();
      
      if (!config.apiKey) {
        throw new Error('No API key available');
      }
      
      googleMapsApiKey = config.apiKey;
      console.log('Individual map - API key fetched successfully, length:', config.apiKey.length);
      
      // Use centralized Maps loader to prevent duplicates
      try {
        await window.EZ2FIX_MAPS.loadAPI(config.apiKey);
        console.log("Individual map - Google Maps API loaded via centralized loader");
        initIndividualLocationMap();
      } catch (error) {
        console.error("Failed to load Google Maps API for individual map:", error);
        showIndividualMapError();
      }
      
    } catch (error) {
      console.error('Failed to fetch Maps API configuration for individual map:', error);
      showIndividualMapError();
    }
  }

  function showIndividualMapError() {
    const loadingElement = document.getElementById('individual-map-loading');
    if (loadingElement) {
      loadingElement.innerHTML = `
        <div class="text-lg font-semibold mb-2" style="color: #1D1912;">Interactive Map Temporarily Unavailable</div>
        <div class="text-sm" style="color: #BB8525;">Please see our service information above</div>
      `;
    }
  }

  // Start loading when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', loadIndividualMapAPI);
  } else {
    loadIndividualMapAPI();
  }

  // Initialize map fallback if Google Maps fails to load
  setTimeout(() => {
    const mapElement = document.getElementById('individual-location-map');
    const loadingElement = document.getElementById('individual-map-loading');
    
    if (loadingElement && loadingElement.style.display !== 'none') {
      loadingElement.innerHTML = `
        <div class="text-lg font-semibold mb-2" style="color: #1D1912;">Map Temporarily Unavailable</div>
        <div class="text-sm" style="color: #BB8525;">We serve all neighborhoods throughout Cedar Grove, NJ</div>
      `;
    }
  }, 15000); // 15 second timeout
</script>